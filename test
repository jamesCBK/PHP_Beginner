//tbh

<?php
//This function is used to generate a table based on the input.
include "range_color_validator.php";

    // table creator
    function table_create($chunk_array){
        
        $lv = [];
       
        // table start
     
        $content='<table border=1 style="width:20%;float:left">';
        
        foreach($chunk_array as $key => $inner_array){
            
            // row
            
            $lv['row'] = $chunk_array[$key];
            
            // each row start
            
            $content.= '<tr>';
            
            // left column
            
            $content.='<td>'.@$lv['row']['label'].'</td>';
    
            // display decison
    
                // boolean
        
                if(@$lv['row']['type'] == "boolean" ){
                    
                   $color_index=@$lv['row']['value'];                 
                   
                   $content.='<td style="background-color:'.@$lv['row']['style'][$color_index].'"></td>';
                   
                }
                // range
                elseif(@$chunk_array[$key]['type'] == "range"){
                    
                    $color=range_color_validator(@$lv['row']['value']);
                    
                    $content.='<td style="background-color:'.$color.'">'.@$lv['row']['unit'].'</td>';
                    
                }else{ // default
                
                    $content.='<td>'.@$lv['row']['value'].@$lv['row']['unit'].'</td>';
                
                } // end of display decison
            
            // end row
            
            $content.= '</tr>' ;
    
        } // end of block
            
        $content.='</table> ';    
        
        return $content;
        
    } // end of table_create
?>

rcv

<?php

function range_color_validator($range_val) {

    $range_color_schemes = array("2-10"=>"red","11-20"=>"green");
    
    foreach ($range_color_schemes as $range=>$color){
        
       $min_max =  explode('-',$range);
       
       if($range_val > $min_max[0] && $range_val < $min_max[1])
           
           return $color;
       
    }
}

?>

//input iter


<?php
//This function is used to iterate the input and pass it to the table_creator_header.
function input_iteration($block_arrays){
    
    $appliances_table = " ";
    
    foreach($block_arrays as $index => $value ){
        
        $appliances_table .= table_create($block_arrays[$index]) ; //function with argument passing  + table concat
        
    }
    
    return $appliances_table;
    
}

?>

//applist

<?php
include "table_creator_header.php";

include "input_iterator_header.php";



$boolean_color_schemes = array(
                               "red_green"=> array(0=>"red", 1=>"green"),
                               "blue_green"=> array(0=>"red", 1=>"green")
                                    
                               );




$home_label_attributes = array(
                  
                                 // block 1   
   
                                array(
                                       array("label"=>"EB",
                                              "value"=>"1",
                                              "type"=>"boolean",
                                              "style"=>$boolean_color_schemes["red_green"]                                                                                 
                                       ),
                                       
                                       array("label"=>"AC",
                                             "value"=>"25.3",                                                                                     
                                             "unit"=>"<sup>0</sup>C"
                                       ),
                                       
                                        array( "label"   => "PF",
                                               "value"   => "0.8"                                                                                                                                  
                                       ),
                                
                                     ), // end of block 1
                                
                                // block 2   
   
                                array(
                                       array("label"=>"Generator",
                                              "value"=>"0",
                                              "type"=>"boolean",
                                              "style"=>$boolean_color_schemes["red_green"]                                                                                 
                                       ),
                                       
                                       array("label"=>"Units",
                                             "value"=>"100"                                                                                     
                                             
                                       ),
                                
                                     ) // end of block 2
                           
                               
                                ); // end of block data                                                      

$table_display = input_iteration($home_label_attributes);

?>

<html>   
   <h3>Dash Board</h3> 
    <body>
      
        <div style="width: 100%">
        <?php echo $table_display; ?>   
    </body>
</html> 
           



